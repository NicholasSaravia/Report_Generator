@page "/"

<section class="report-layout">

    <section class="report-layout__upload flex-h-center">
        <Upload UploadText="Upload Files" Submit="ParseData"></Upload>
    </section>

    <section class="report-layout__winner flex-h-center">
        @if (ClassRooms.Any() && ClassRooms.Count() > 1)
        {
            <h1 class="center-text">@HighestPerformingCLass.Name had the highest class average!!</h1>
        }
    </section>

    <section class="report-layout__classes">
        @foreach (var c in ClassRooms.OrderByDescending(x => x.ClassAverage))
        {
            <ClassRoom Name="@c.Name"
                       Average="@c.ClassAverage"
                       StudentsNotUsed="@c.NameOfStudentsNotUsedOnTest"
                       Ratio="(c.StudentsUsedToCalculateReport, c.StudentsWithinClass)"
                       Class="@IsWinner(c.ClassAverage)"></ClassRoom>
        }
    </section>

    <section class="report-layout__export flex-h-center">
        @if (ClassRooms.Any())
        {
            <MudButton Variant="Variant.Filled" OnClick="ExportToTextFile">Export</MudButton>
        }
    </section>
</section>


